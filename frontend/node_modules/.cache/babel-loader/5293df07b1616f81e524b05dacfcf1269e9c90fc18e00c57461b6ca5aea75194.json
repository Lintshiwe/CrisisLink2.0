{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000';\nclass SOSService {\n  constructor() {\n    this.baseURL = `${API_BASE_URL}/api/sos`;\n  }\n  async sendSOSAlert(alertData) {\n    try {\n      const response = await axios.post(`${this.baseURL}/alert`, alertData);\n      return response.data;\n    } catch (error) {\n      console.error('Error sending SOS alert:', error);\n      throw error;\n    }\n  }\n\n  // Alias for components expecting createSOSAlert\n  async createSOSAlert(alertData) {\n    return this.sendSOSAlert(alertData);\n  }\n  async getSOSHistory(userId) {\n    try {\n      // Backend provides /history for current user\n      const response = await axios.get(`${this.baseURL}/history`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching SOS history:', error);\n      throw error;\n    }\n  }\n  async cancelSOSAlert(alertId) {\n    try {\n      // Backend supports POST /:id/cancel alias\n      const response = await axios.post(`${this.baseURL}/${alertId}/cancel`);\n      return response.data;\n    } catch (error) {\n      console.error('Error cancelling SOS alert:', error);\n      throw error;\n    }\n  }\n  async updateSOSStatus(alertId, status) {\n    try {\n      const response = await axios.put(`${this.baseURL}/${alertId}/status`, {\n        status\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error updating SOS status:', error);\n      throw error;\n    }\n  }\n}\nexport const sosService = new SOSService();\nexport default sosService;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_BACKEND_URL","SOSService","constructor","baseURL","sendSOSAlert","alertData","response","post","data","error","console","createSOSAlert","getSOSHistory","userId","get","cancelSOSAlert","alertId","updateSOSStatus","status","put","sosService"],"sources":["C:/Users/ntoam/Desktop/Projects/CrisisLink2.0/frontend/src/services/sosService.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API_BASE_URL =\r\n  process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000'\r\n\r\nclass SOSService {\r\n  constructor() {\r\n    this.baseURL = `${API_BASE_URL}/api/sos`\r\n  }\r\n\r\n  async sendSOSAlert(alertData) {\r\n    try {\r\n      const response = await axios.post(`${this.baseURL}/alert`, alertData)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error sending SOS alert:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // Alias for components expecting createSOSAlert\r\n  async createSOSAlert(alertData) {\r\n    return this.sendSOSAlert(alertData)\r\n  }\r\n\r\n  async getSOSHistory(userId) {\r\n    try {\r\n      // Backend provides /history for current user\r\n      const response = await axios.get(`${this.baseURL}/history`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching SOS history:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async cancelSOSAlert(alertId) {\r\n    try {\r\n      // Backend supports POST /:id/cancel alias\r\n      const response = await axios.post(`${this.baseURL}/${alertId}/cancel`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error cancelling SOS alert:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateSOSStatus(alertId, status) {\r\n    try {\r\n      const response = await axios.put(`${this.baseURL}/${alertId}/status`, {\r\n        status,\r\n      })\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating SOS status:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport const sosService = new SOSService()\r\nexport default sosService\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAChBC,OAAO,CAACC,GAAG,CAACC,qBAAqB,IAAI,uBAAuB;AAE9D,MAAMC,UAAU,CAAC;EACfC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,OAAO,GAAG,GAAGN,YAAY,UAAU;EAC1C;EAEA,MAAMO,YAAYA,CAACC,SAAS,EAAE;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAG,IAAI,CAACJ,OAAO,QAAQ,EAAEE,SAAS,CAAC;MACrE,OAAOC,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,MAAME,cAAcA,CAACN,SAAS,EAAE;IAC9B,OAAO,IAAI,CAACD,YAAY,CAACC,SAAS,CAAC;EACrC;EAEA,MAAMO,aAAaA,CAACC,MAAM,EAAE;IAC1B,IAAI;MACF;MACA,MAAMP,QAAQ,GAAG,MAAMV,KAAK,CAACkB,GAAG,CAAC,GAAG,IAAI,CAACX,OAAO,UAAU,CAAC;MAC3D,OAAOG,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,MAAMA,KAAK;IACb;EACF;EAEA,MAAMM,cAAcA,CAACC,OAAO,EAAE;IAC5B,IAAI;MACF;MACA,MAAMV,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAG,IAAI,CAACJ,OAAO,IAAIa,OAAO,SAAS,CAAC;MACtE,OAAOV,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,MAAMA,KAAK;IACb;EACF;EAEA,MAAMQ,eAAeA,CAACD,OAAO,EAAEE,MAAM,EAAE;IACrC,IAAI;MACF,MAAMZ,QAAQ,GAAG,MAAMV,KAAK,CAACuB,GAAG,CAAC,GAAG,IAAI,CAAChB,OAAO,IAAIa,OAAO,SAAS,EAAE;QACpEE;MACF,CAAC,CAAC;MACF,OAAOZ,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACb;EACF;AACF;AAEA,OAAO,MAAMW,UAAU,GAAG,IAAInB,UAAU,CAAC,CAAC;AAC1C,eAAemB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}