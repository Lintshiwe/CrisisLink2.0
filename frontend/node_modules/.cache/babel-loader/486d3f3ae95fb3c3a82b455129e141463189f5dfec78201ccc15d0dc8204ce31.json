{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_BACKEND_URL||'http://localhost:5000';class SOSService{constructor(){this.baseURL=\"\".concat(API_BASE_URL,\"/api/sos\");}async sendSOSAlert(alertData){try{const response=await axios.post(\"\".concat(this.baseURL,\"/alert\"),alertData);return response.data;}catch(error){console.error('Error sending SOS alert:',error);throw error;}}async getSOSHistory(userId){try{const response=await axios.get(\"\".concat(this.baseURL,\"/history/\").concat(userId));return response.data;}catch(error){console.error('Error fetching SOS history:',error);throw error;}}async cancelSOSAlert(alertId){try{const response=await axios.put(\"\".concat(this.baseURL,\"/cancel/\").concat(alertId));return response.data;}catch(error){console.error('Error cancelling SOS alert:',error);throw error;}}async updateSOSStatus(alertId,status){try{const response=await axios.put(\"\".concat(this.baseURL,\"/status/\").concat(alertId),{status});return response.data;}catch(error){console.error('Error updating SOS status:',error);throw error;}}}export const sosService=new SOSService();export default sosService;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_BACKEND_URL","SOSService","constructor","baseURL","concat","sendSOSAlert","alertData","response","post","data","error","console","getSOSHistory","userId","get","cancelSOSAlert","alertId","put","updateSOSStatus","status","sosService"],"sources":["C:/Users/ntoam/Desktop/Projects/CrisisLink2.0/frontend/src/services/sosService.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API_BASE_URL =\r\n  process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000'\r\n\r\nclass SOSService {\r\n  constructor() {\r\n    this.baseURL = `${API_BASE_URL}/api/sos`\r\n  }\r\n\r\n  async sendSOSAlert(alertData) {\r\n    try {\r\n      const response = await axios.post(`${this.baseURL}/alert`, alertData)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error sending SOS alert:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getSOSHistory(userId) {\r\n    try {\r\n      const response = await axios.get(`${this.baseURL}/history/${userId}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error fetching SOS history:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async cancelSOSAlert(alertId) {\r\n    try {\r\n      const response = await axios.put(`${this.baseURL}/cancel/${alertId}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error cancelling SOS alert:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateSOSStatus(alertId, status) {\r\n    try {\r\n      const response = await axios.put(`${this.baseURL}/status/${alertId}`, {\r\n        status,\r\n      })\r\n      return response.data\r\n    } catch (error) {\r\n      console.error('Error updating SOS status:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport const sosService = new SOSService()\r\nexport default sosService\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,YAAY,CAChBC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAI,uBAAuB,CAE9D,KAAM,CAAAC,UAAW,CACfC,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACC,OAAO,IAAAC,MAAA,CAAMP,YAAY,YAAU,CAC1C,CAEA,KAAM,CAAAQ,YAAYA,CAACC,SAAS,CAAE,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,IAAAJ,MAAA,CAAI,IAAI,CAACD,OAAO,WAAUG,SAAS,CAAC,CACrE,MAAO,CAAAC,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD,KAAM,CAAAA,KAAK,CACb,CACF,CAEA,KAAM,CAAAE,aAAaA,CAACC,MAAM,CAAE,CAC1B,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACkB,GAAG,IAAAV,MAAA,CAAI,IAAI,CAACD,OAAO,cAAAC,MAAA,CAAYS,MAAM,CAAE,CAAC,CACrE,MAAO,CAAAN,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD,KAAM,CAAAA,KAAK,CACb,CACF,CAEA,KAAM,CAAAK,cAAcA,CAACC,OAAO,CAAE,CAC5B,GAAI,CACF,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACqB,GAAG,IAAAb,MAAA,CAAI,IAAI,CAACD,OAAO,aAAAC,MAAA,CAAWY,OAAO,CAAE,CAAC,CACrE,MAAO,CAAAT,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD,KAAM,CAAAA,KAAK,CACb,CACF,CAEA,KAAM,CAAAQ,eAAeA,CAACF,OAAO,CAAEG,MAAM,CAAE,CACrC,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACqB,GAAG,IAAAb,MAAA,CAAI,IAAI,CAACD,OAAO,aAAAC,MAAA,CAAWY,OAAO,EAAI,CACpEG,MACF,CAAC,CAAC,CACF,MAAO,CAAAZ,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClD,KAAM,CAAAA,KAAK,CACb,CACF,CACF,CAEA,MAAO,MAAM,CAAAU,UAAU,CAAG,GAAI,CAAAnB,UAAU,CAAC,CAAC,CAC1C,cAAe,CAAAmB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}