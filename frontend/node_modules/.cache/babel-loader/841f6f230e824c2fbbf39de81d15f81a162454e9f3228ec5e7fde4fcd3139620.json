{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ntoam\\\\Desktop\\\\Projects\\\\CrisisLink2.0\\\\frontend\\\\src\\\\components\\\\TrackingDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport LiveTrackingMap from './LiveTrackingMap';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrackingDashboard = ({\n  sosAlert,\n  onClose\n}) => {\n  _s();\n  const [agentLocation, setAgentLocation] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [eta, setEta] = useState(null);\n  const [agent, setAgent] = useState(null);\n  const [socket, setSocket] = useState(null);\n  const [trackingStatus, setTrackingStatus] = useState('connecting');\n  useEffect(() => {\n    // Initialize socket connection\n    const newSocket = io(process.env.REACT_APP_SOCKET_URL);\n    setSocket(newSocket);\n\n    // Set user location from SOS alert\n    if (sosAlert) {\n      setUserLocation({\n        lat: parseFloat(sosAlert.latitude),\n        lng: parseFloat(sosAlert.longitude)\n      });\n    }\n\n    // Join tracking room for this SOS alert\n    if (sosAlert !== null && sosAlert !== void 0 && sosAlert.id) {\n      newSocket.emit('join_sos_tracking', {\n        sosId: sosAlert.id\n      });\n    }\n\n    // Listen for agent location updates\n    newSocket.on('agent_location_update', data => {\n      if (data.sosId === (sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.id)) {\n        setAgentLocation({\n          lat: parseFloat(data.latitude),\n          lng: parseFloat(data.longitude)\n        });\n        setAgent(data.agent);\n        setTrackingStatus('tracking');\n      }\n    });\n\n    // Listen for SOS status updates\n    newSocket.on('sos_status_update', data => {\n      if (data.sosId === (sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.id)) {\n        setTrackingStatus(data.status);\n      }\n    });\n\n    // Listen for agent arrival\n    newSocket.on('agent_arrived', data => {\n      if (data.sosId === (sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.id)) {\n        setTrackingStatus('arrived');\n      }\n    });\n    return () => {\n      newSocket.disconnect();\n    };\n  }, [sosAlert]);\n\n  // Get user location with high accuracy\n  useEffect(() => {\n    if (navigator.geolocation) {\n      const watchId = navigator.geolocation.watchPosition(position => {\n        setUserLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n      }, error => {\n        console.error('Error getting location:', error);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 30000\n      });\n      return () => navigator.geolocation.clearWatch(watchId);\n    }\n  }, []);\n  const handleMapLoad = routeInfo => {\n    setEta(routeInfo);\n  };\n  const getStatusColor = status => {\n    const colors = {\n      'connecting': 'bg-yellow-500',\n      'dispatched': 'bg-blue-500',\n      'tracking': 'bg-green-500',\n      'arrived': 'bg-purple-500',\n      'completed': 'bg-gray-500'\n    };\n    return colors[status] || 'bg-gray-500';\n  };\n  const getStatusText = status => {\n    const texts = {\n      'connecting': 'Connecting to tracking...',\n      'dispatched': 'Agent dispatched',\n      'tracking': 'Agent en route',\n      'arrived': 'Agent has arrived',\n      'completed': 'Rescue completed'\n    };\n    return texts[status] || 'Unknown status';\n  };\n  const formatTime = dateString => {\n    return new Date(dateString).toLocaleTimeString('en-ZA', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-900\",\n            children: \"Live Rescue Tracking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"SOS Alert #\", sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 hover:bg-gray-100 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3 h-3 rounded-full ${getStatusColor(trackingStatus)} animate-pulse`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: getStatusText(trackingStatus)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Alert Time: \", sosAlert !== null && sosAlert !== void 0 && sosAlert.created_at ? formatTime(sosAlert.created_at) : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), eta && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-4 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold text-red-600\",\n              children: eta.duration\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Estimated Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold text-blue-600\",\n              children: eta.distance\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Distance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg font-bold text-green-600\",\n              children: eta.eta ? formatTime(eta.eta) : '--:--'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Arrival Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(LiveTrackingMap, {\n          userLocation: userLocation,\n          agentLocation: agentLocation,\n          sosAlert: sosAlert,\n          agents: agent ? [agent] : [],\n          onMapLoad: handleMapLoad,\n          className: \"h-96\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), agent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg mb-3\",\n          children: \"Assigned Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: agent.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Badge #\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: agent.badge_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: agent.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Vehicle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: agent.vehicle_info || 'Not specified'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg mb-3\",\n          children: \"Emergency Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Emergency Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium capitalize\",\n                children: (sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.emergency_type) || 'General'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",\n                  children: \"\\uD83D\\uDEA8 High Priority\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Additional Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: (sosAlert === null || sosAlert === void 0 ? void 0 : sosAlert.additional_info) || 'None provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200 flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Call Agent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Send Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(TrackingDashboard, \"DDuhBiLz3x6EvLCIn/yOcVDHl64=\");\n_c = TrackingDashboard;\nexport default TrackingDashboard;\nvar _c;\n$RefreshReg$(_c, \"TrackingDashboard\");","map":{"version":3,"names":["React","useState","useEffect","LiveTrackingMap","io","jsxDEV","_jsxDEV","TrackingDashboard","sosAlert","onClose","_s","agentLocation","setAgentLocation","userLocation","setUserLocation","eta","setEta","agent","setAgent","socket","setSocket","trackingStatus","setTrackingStatus","newSocket","process","env","REACT_APP_SOCKET_URL","lat","parseFloat","latitude","lng","longitude","id","emit","sosId","on","data","status","disconnect","navigator","geolocation","watchId","watchPosition","position","coords","error","console","enableHighAccuracy","timeout","maximumAge","clearWatch","handleMapLoad","routeInfo","getStatusColor","colors","getStatusText","texts","formatTime","dateString","Date","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","created_at","duration","distance","agents","onMapLoad","name","badge_number","phone","vehicle_info","emergency_type","additional_info","_c","$RefreshReg$"],"sources":["C:/Users/ntoam/Desktop/Projects/CrisisLink2.0/frontend/src/components/TrackingDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport LiveTrackingMap from './LiveTrackingMap';\r\nimport { io } from 'socket.io-client';\r\n\r\nconst TrackingDashboard = ({ sosAlert, onClose }) => {\r\n  const [agentLocation, setAgentLocation] = useState(null);\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [eta, setEta] = useState(null);\r\n  const [agent, setAgent] = useState(null);\r\n  const [socket, setSocket] = useState(null);\r\n  const [trackingStatus, setTrackingStatus] = useState('connecting');\r\n\r\n  useEffect(() => {\r\n    // Initialize socket connection\r\n    const newSocket = io(process.env.REACT_APP_SOCKET_URL);\r\n    setSocket(newSocket);\r\n\r\n    // Set user location from SOS alert\r\n    if (sosAlert) {\r\n      setUserLocation({\r\n        lat: parseFloat(sosAlert.latitude),\r\n        lng: parseFloat(sosAlert.longitude)\r\n      });\r\n    }\r\n\r\n    // Join tracking room for this SOS alert\r\n    if (sosAlert?.id) {\r\n      newSocket.emit('join_sos_tracking', { sosId: sosAlert.id });\r\n    }\r\n\r\n    // Listen for agent location updates\r\n    newSocket.on('agent_location_update', (data) => {\r\n      if (data.sosId === sosAlert?.id) {\r\n        setAgentLocation({\r\n          lat: parseFloat(data.latitude),\r\n          lng: parseFloat(data.longitude)\r\n        });\r\n        setAgent(data.agent);\r\n        setTrackingStatus('tracking');\r\n      }\r\n    });\r\n\r\n    // Listen for SOS status updates\r\n    newSocket.on('sos_status_update', (data) => {\r\n      if (data.sosId === sosAlert?.id) {\r\n        setTrackingStatus(data.status);\r\n      }\r\n    });\r\n\r\n    // Listen for agent arrival\r\n    newSocket.on('agent_arrived', (data) => {\r\n      if (data.sosId === sosAlert?.id) {\r\n        setTrackingStatus('arrived');\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, [sosAlert]);\r\n\r\n  // Get user location with high accuracy\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      const watchId = navigator.geolocation.watchPosition(\r\n        (position) => {\r\n          setUserLocation({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          });\r\n        },\r\n        (error) => {\r\n          console.error('Error getting location:', error);\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          timeout: 10000,\r\n          maximumAge: 30000\r\n        }\r\n      );\r\n\r\n      return () => navigator.geolocation.clearWatch(watchId);\r\n    }\r\n  }, []);\r\n\r\n  const handleMapLoad = (routeInfo) => {\r\n    setEta(routeInfo);\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      'connecting': 'bg-yellow-500',\r\n      'dispatched': 'bg-blue-500',\r\n      'tracking': 'bg-green-500',\r\n      'arrived': 'bg-purple-500',\r\n      'completed': 'bg-gray-500'\r\n    };\r\n    return colors[status] || 'bg-gray-500';\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    const texts = {\r\n      'connecting': 'Connecting to tracking...',\r\n      'dispatched': 'Agent dispatched',\r\n      'tracking': 'Agent en route',\r\n      'arrived': 'Agent has arrived',\r\n      'completed': 'Rescue completed'\r\n    };\r\n    return texts[status] || 'Unknown status';\r\n  };\r\n\r\n  const formatTime = (dateString) => {\r\n    return new Date(dateString).toLocaleTimeString('en-ZA', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-gray-900\">Live Rescue Tracking</h2>\r\n            <p className=\"text-sm text-gray-600\">SOS Alert #{sosAlert?.id}</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Status Bar */}\r\n        <div className=\"p-4 bg-gray-50\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className={`w-3 h-3 rounded-full ${getStatusColor(trackingStatus)} animate-pulse`}></div>\r\n              <span className=\"font-medium\">{getStatusText(trackingStatus)}</span>\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">\r\n              Alert Time: {sosAlert?.created_at ? formatTime(sosAlert.created_at) : 'N/A'}\r\n            </div>\r\n          </div>\r\n\r\n          {/* ETA Information */}\r\n          {eta && (\r\n            <div className=\"grid grid-cols-3 gap-4 mt-3\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-red-600\">{eta.duration}</div>\r\n                <div className=\"text-xs text-gray-600\">Estimated Time</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-blue-600\">{eta.distance}</div>\r\n                <div className=\"text-xs text-gray-600\">Distance</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-green-600\">\r\n                  {eta.eta ? formatTime(eta.eta) : '--:--'}\r\n                </div>\r\n                <div className=\"text-xs text-gray-600\">Arrival Time</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Map Container */}\r\n        <div className=\"p-4\">\r\n          <LiveTrackingMap\r\n            userLocation={userLocation}\r\n            agentLocation={agentLocation}\r\n            sosAlert={sosAlert}\r\n            agents={agent ? [agent] : []}\r\n            onMapLoad={handleMapLoad}\r\n            className=\"h-96\"\r\n          />\r\n        </div>\r\n\r\n        {/* Agent Information */}\r\n        {agent && (\r\n          <div className=\"p-4 border-t border-gray-200\">\r\n            <h3 className=\"font-bold text-lg mb-3\">Assigned Agent</h3>\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm text-gray-600\">Name</label>\r\n                  <p className=\"font-medium\">{agent.name}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-600\">Badge #</label>\r\n                  <p className=\"font-medium\">{agent.badge_number}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-600\">Phone</label>\r\n                  <p className=\"font-medium\">{agent.phone}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-600\">Vehicle</label>\r\n                  <p className=\"font-medium\">{agent.vehicle_info || 'Not specified'}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Emergency Information */}\r\n        <div className=\"p-4 border-t border-gray-200\">\r\n          <h3 className=\"font-bold text-lg mb-3\">Emergency Details</h3>\r\n          <div className=\"bg-red-50 rounded-lg p-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Emergency Type</label>\r\n                <p className=\"font-medium capitalize\">{sosAlert?.emergency_type || 'General'}</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm text-gray-600\">Priority</label>\r\n                <p className=\"font-medium\">\r\n                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n                    ðŸš¨ High Priority\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              <div className=\"col-span-2\">\r\n                <label className=\"text-sm text-gray-600\">Additional Info</label>\r\n                <p className=\"font-medium\">{sosAlert?.additional_info || 'None provided'}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"p-4 border-t border-gray-200 flex space-x-3\">\r\n          <button className=\"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2\">\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n            </svg>\r\n            <span>Call Agent</span>\r\n          </button>\r\n          \r\n          <button className=\"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-2\">\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n            </svg>\r\n            <span>Send Message</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrackingDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}