@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@layer base {
  body {
    @apply bg-dark-900 text-white font-sans;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-900;
  }

  .btn-primary {
    @apply btn bg-emergency-600 text-white hover:bg-emergency-700 focus:ring-emergency-500;
  }

  .btn-secondary {
    @apply btn bg-dark-700 text-white hover:bg-dark-600 focus:ring-dark-500;
  }

  .btn-success {
    @apply btn bg-success-600 text-white hover:bg-success-700 focus:ring-success-500;
  }

  .btn-warning {
    @apply btn bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500;
  }

  .input {
    @apply block w-full px-3 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-dark-400 focus:outline-none focus:ring-2 focus:ring-emergency-500 focus:border-transparent;
  }

  .card {
    @apply bg-dark-800 rounded-xl border border-dark-700 shadow-xl;
  }

  .sos-button {
    @apply relative w-32 h-32 bg-gradient-to-br from-emergency-500 to-emergency-700 rounded-full shadow-2xl transform transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-emergency-500 focus:ring-offset-4 focus:ring-offset-dark-900;
  }

  .sos-button-active {
    @apply animate-emergency-pulse;
  }

  .weather-alert {
    @apply relative overflow-hidden rounded-lg border-l-4 p-4;
  }

  .weather-alert-low {
    @apply bg-blue-900/20 border-blue-500 text-blue-100;
  }

  .weather-alert-moderate {
    @apply bg-yellow-900/20 border-yellow-500 text-yellow-100;
  }

  .weather-alert-high {
    @apply bg-orange-900/20 border-orange-500 text-orange-100;
  }

  .weather-alert-extreme {
    @apply bg-red-900/20 border-red-500 text-red-100 animate-emergency-pulse;
  }

  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .status-pending {
    @apply status-badge bg-yellow-900/20 text-yellow-300 border border-yellow-600;
  }

  .status-assigned {
    @apply status-badge bg-blue-900/20 text-blue-300 border border-blue-600;
  }

  .status-en-route {
    @apply status-badge bg-purple-900/20 text-purple-300 border border-purple-600;
  }

  .status-arrived {
    @apply status-badge bg-green-900/20 text-green-300 border border-green-600;
  }

  .status-completed {
    @apply status-badge bg-emerald-900/20 text-emerald-300 border border-emerald-600;
  }

  .status-cancelled {
    @apply status-badge bg-gray-900/20 text-gray-300 border border-gray-600;
  }

  .glass {
    @apply backdrop-blur-md bg-white/10 border border-white/20;
  }

  .glass-dark {
    @apply backdrop-blur-md bg-dark-900/80 border border-dark-700/50;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-inset-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-dark-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-dark-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-dark-500;
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: #475569 #1e293b;
}

/* Map container styles */
.mapboxgl-popup {
  @apply text-dark-900;
}

.mapboxgl-popup-content {
  @apply bg-white rounded-lg shadow-xl border-0;
}

/* Loading states */
.loading-skeleton {
  @apply animate-pulse bg-dark-700 rounded;
}

/* Emergency glow effect */
.emergency-glow {
  animation: emergency-glow 2s ease-in-out infinite alternate;
}

@keyframes emergency-glow {
  from {
    box-shadow:
      0 0 20px rgba(220, 38, 38, 0.3),
      0 0 40px rgba(220, 38, 38, 0.1);
  }
  to {
    box-shadow:
      0 0 30px rgba(220, 38, 38, 0.6),
      0 0 60px rgba(220, 38, 38, 0.2);
  }
}

/* Weather alert background effects */
.weather-alert-bg::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 70%
  );
  transform: translateX(-100%);
  animation: shine 2s infinite;
}

@keyframes shine {
  to {
    transform: translateX(100%);
  }
}

/* Notification toast styles */
.toast-success {
  @apply bg-success-600 text-white;
}

.toast-error {
  @apply bg-emergency-600 text-white;
}

.toast-warning {
  @apply bg-warning-600 text-white;
}

.toast-info {
  @apply bg-blue-600 text-white;
}
